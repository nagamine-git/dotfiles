# Created by newuser for 5.9
export LANG=ja_JP.UTF-8
export LC_ALL=ja_JP.UTF-8
export XMODIFIERS=@im=fcitx
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export CLUTTER_IM_MODULE=fcitx
export SDL_IM_MODULE=fcitx
export EDITOR=nvim

# 補完
autoload -Uz compinit
compinit -i

# プラグイン管理
eval "$(starship init zsh)"
# Cursor内での問題を回避するため、shimsを無効化
if [[ "$TERM_PROGRAM" != "vscode" ]]; then
    eval "$(mise activate --shims)"
fi
eval "$(sheldon source)"
eval "$(atuin init zsh)"

# コマンド履歴
HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=10000

# alias
alias vim='nvim'

# ghqでクローンしたリポジトリへ簡単に移動するための関数
cgh() { 
    local dir
    dir=$(ghq list | fzf --no-multi --exit-0 --query="$*" --preview="ls -FA1 $(ghq root)/{}")
    [ -n "$dir" ] && cd "$(ghq root)/$dir" || return 
}

cursor() {
    command cursor "$@" > /dev/null 2>&1 &
    disown
}

alias ls='eza --icons --color=always'
alias ll='ls -l'
alias la='ls -la'
alias l='ls -l'
alias tree='ls --tree --git-ignore'
alias lmt='eza --tree --git-ignore --icons=never --classify'
alias zj='zellij'
alias supabase='npx supabase'
alias pbcopy='wl-copy'
alias shutdown='hyprsession.sh shutdown'
alias poweroff='hyprsession.sh shutdown'
alias reboot='hyprsession.sh reboot'
alias hibernate='hyprsession.sh save && systemctl hibernate'